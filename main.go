package main

import (
	"bytes"
	"encoding/base64"
	"fmt"
	"github.com/google/uuid"
	"github.com/yeqown/go-qrcode"
	"image"
	"io/ioutil"
)

const (
	PrivyLogo = "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"
)

func main() {

	dec, err := base64.StdEncoding.DecodeString(PrivyLogo)
	if err != nil {
		panic(err)
	}

	img, _, _ := image.Decode(bytes.NewReader(dec))

	qrlogo, err := qrcode.NewWithConfig(
		fmt.Sprintf("https://privy.id/verify/{random-UUID}%s", uuid.NewString()),
		qrcode.DefaultConfig(),
		qrcode.WithBuiltinImageEncoder(qrcode.PNG_FORMAT),
		qrcode.WithLogoImage(img),
		qrcode.WithQRWidth(50),
	)

	if err != nil {
		panic(err)
	}

	var buf bytes.Buffer
	err = qrlogo.SaveTo(&buf)
	if err != nil {
		panic(err)
	}

	// write the whole body at once
	err = ioutil.WriteFile("storages/qr.png", buf.Bytes(), 0644)
	if err != nil {
		panic(err)
	}
}
